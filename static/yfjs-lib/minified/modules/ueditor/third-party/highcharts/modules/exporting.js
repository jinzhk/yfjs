!function(a){var b,c,d=a.Chart,e=a.addEvent,f=a.removeEvent,g=a.createElement,h=a.discardElement,i=a.css,j=a.merge,k=a.each,l=a.extend,m=Math,n=m.max,o=document,p=window,q=a.isTouchDevice,r="M",s="L",t="div",u="hidden",v="none",w="highcharts-",x="absolute",y="px",z=a.Renderer.prototype.symbols,A=a.getOptions();l(A.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),A.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:v,color:"#303030",fontSize:q?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},A.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:w+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},a.post=function(a,b){var c,d;d=g("form",{method:"post",action:a,enctype:"multipart/form-data"},{display:v},o.body);for(c in b)g("input",{type:u,name:c,value:b[c]},null,d);d.submit(),h(d)},l(d.prototype,{getSVG:function(c){var d,e,f,i,m,n,p,q,r=this,s=j(r.options,c);return o.createElementNS||(o.createElementNS=function(a,b){return o.createElement(b)}),e=g(t,null,{position:x,top:"-9999em",width:r.chartWidth+y,height:r.chartHeight+y},o.body),p=r.renderTo.style.width,q=r.renderTo.style.height,m=s.exporting.sourceWidth||s.chart.width||/px$/.test(p)&&parseInt(p,10)||600,n=s.exporting.sourceHeight||s.chart.height||/px$/.test(q)&&parseInt(q,10)||400,l(s.chart,{animation:!1,renderTo:e,forExport:!0,width:m,height:n}),s.exporting.enabled=!1,s.series=[],k(r.series,function(a){i=j(a.options,{animation:!1,showCheckbox:!1,visible:a.visible}),i.isInternal||s.series.push(i)}),d=new a.Chart(s,r.callback),k(["xAxis","yAxis"],function(a){k(r[a],function(c,e){var f=d[a][e],g=c.getExtremes(),h=g.userMin,i=g.userMax;!f||h===b&&i===b||f.setExtremes(h,i,!0,!1)})}),f=d.container.innerHTML,s=null,d.destroy(),h(e),f=f.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()}),f=f.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(b,c){b=b||{};var d=this,e=d.options.exporting,f=d.getSVG(j({chart:{borderRadius:0}},e.chartOptions,c,{exporting:{sourceWidth:b.sourceWidth||e.sourceWidth,sourceHeight:b.sourceHeight||e.sourceHeight}}));b=j(d.options.exporting,b),a.post(b.url,{filename:b.filename||"chart",type:b.type,width:b.width||0,scale:b.scale||2,svg:f})},print:function(){var a=this,b=a.container,c=[],d=b.parentNode,e=o.body,f=e.childNodes;a.isPrinting||(a.isPrinting=!0,k(f,function(a,b){1===a.nodeType&&(c[b]=a.style.display,a.style.display=v)}),e.appendChild(b),p.focus(),p.print(),setTimeout(function(){d.appendChild(b),k(f,function(a,b){1===a.nodeType&&(a.style.display=c[b])}),a.isPrinting=!1},1e3))},contextMenu:function(a,b,c,d,f,h,j){var m,o,p,q,r=this,s=r.options.navigation,u=s.menuItemStyle,w=r.chartWidth,z=r.chartHeight,A="cache-"+a,B=r[A],C=n(f,h),D="3px 3px 10px #888";B||(r[A]=B=g(t,{className:a},{position:x,zIndex:1e3,padding:C+y},r.container),m=g(t,null,l({MozBoxShadow:D,WebkitBoxShadow:D,boxShadow:D},s.menuStyle),B),o=function(){i(B,{display:v}),j&&j.setState(0),r.openMenu=!1},e(B,"mouseleave",function(){p=setTimeout(o,500)}),e(B,"mouseenter",function(){clearTimeout(p)}),e(document,"mousedown",function(b){r.pointer.inClass(b.target,a)||o()}),k(b,function(a){if(a){var b=a.separator?g("hr",null,null,m):g(t,{onmouseover:function(){i(this,s.menuItemHoverStyle)},onmouseout:function(){i(this,u)},onclick:function(){o(),a.onclick.apply(r,arguments)},innerHTML:a.text||r.options.lang[a.textKey]},l({cursor:"pointer"},u),m);r.exportDivElements.push(b)}}),r.exportDivElements.push(m,B),r.exportMenuWidth=B.offsetWidth,r.exportMenuHeight=B.offsetHeight),q={display:"block"},c+r.exportMenuWidth>w?q.right=w-c-f-C+y:q.left=c-C+y,d+h+r.exportMenuHeight>z&&"top"!==j.alignOptions.verticalAlign?q.bottom=z-d-C+y:q.top=d+h-C+y,i(B,q),r.openMenu=!0},addButton:function(b){var d,e,f=this,g=f.renderer,h=j(f.options.navigation.buttonOptions,b),i=h.onclick,k=h.menuItems,m={stroke:h.symbolStroke,fill:h.symbolFill},n=h.symbolSize||12;if(f.btnCount||(f.btnCount=0),f.exportDivElements||(f.exportDivElements=[],f.exportSVGElements=[]),!1!==h.enabled){var o,p=h.theme,q=p.states,r=q&&q.hover,s=q&&q.select;delete p.states,i?o=function(){i.apply(f,arguments)}:k&&(o=function(){f.contextMenu(e.menuClassName,k,e.translateX,e.translateY,e.width,e.height,e),e.setState(2)}),h.text&&h.symbol?p.paddingLeft=a.pick(p.paddingLeft,25):h.text||l(p,{width:h.width,height:h.height,padding:0}),e=g.button(h.text,0,0,o,p,r,s).attr({title:f.options.lang[h._titleKey],"stroke-linecap":"round"}),e.menuClassName=b.menuClassName||w+"menu-"+f.btnCount++,h.symbol&&(d=g.symbol(h.symbol,h.symbolX-n/2,h.symbolY-n/2,n,n).attr(l(m,{"stroke-width":h.symbolStrokeWidth||1,zIndex:1})).add(e)),e.add().align(l(h,{width:e.width,x:a.pick(h.x,c)}),!0,"spacingBox"),c+=(e.width+h.buttonSpacing)*("right"===h.align?-1:1),f.exportSVGElements.push(e,d)}},destroyExport:function(a){var b,c,d=a.target;for(b=0;b<d.exportSVGElements.length;b++)(c=d.exportSVGElements[b])&&(c.onclick=c.ontouchstart=null,d.exportSVGElements[b]=c.destroy());for(b=0;b<d.exportDivElements.length;b++)c=d.exportDivElements[b],f(c,"mouseleave"),d.exportDivElements[b]=c.onmouseout=c.onmouseover=c.ontouchstart=c.onclick=null,h(c)}}),z.menu=function(a,b,c,d){return[r,a,b+2.5,s,a+c,b+2.5,r,a,b+d/2+.5,s,a+c,b+d/2+.5,r,a,b+d-1.5,s,a+c,b+d-1.5]},d.prototype.callbacks.push(function(a){var b,d=a.options.exporting,f=d.buttons;if(c=0,!1!==d.enabled){for(b in f)a.addButton(f[b]);e(a,"destroy",a.destroyExport)}})}(Highcharts);